<UserControl x:Class="SlideDOck.Views.AppIconView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:viewmodels="clr-namespace:SlideDOck.ViewModels"
             mc:Ignorable="d"
             d:DesignHeight="50" d:DesignWidth="50"
             DataContext="{Binding}">
	<Button Style="{StaticResource AppButtonStyle}"
            Command="{Binding LaunchAppCommand}"
            ToolTip="{Binding Name}"
            MouseMove="AppIcon_MouseMove">
		<Button.ContextMenu>
			<ContextMenu>
				<MenuItem Header="Remover App"
                          Command="{Binding RemoveAppCommand}"/>
				<MenuItem Header="Abrir Pasta"
                          Command="{Binding OpenFolderCommand}"/>
			</ContextMenu>
		</Button.ContextMenu>
		<Image Source="{Binding IconSource}"
               Width="24"
               Height="24">
			<Image.Style>
				<Style TargetType="Image">
					<Setter Property="Source" Value="{Binding IconSource}"/>
					<Style.Triggers>
						<DataTrigger Binding="{Binding IconSource}" Value="{x:Null}">
							<Setter Property="Source">
								<Setter.Value>
									<DrawingImage>
										<DrawingImage.Drawing>
											<GeometryDrawing Brush="LightBlue">
												<GeometryDrawing.Geometry>
													<RectangleGeometry Rect="0,0,24,24"/>
												</GeometryDrawing.Geometry>
											</GeometryDrawing>
										</DrawingImage.Drawing>
									</DrawingImage>
								</Setter.Value>
							</Setter>
						</DataTrigger>
					</Style.Triggers>
				</Style>
			</Image.Style>
		</Image>
	</Button>
</UserControl>